{% extends 'Laba2/base.html' %}
{% load bootstrap3 %}

{% block title %}
    <div class="page-header"> <h2 style="text-align:center;"> Apps Table </h2> </div>
{% endblock %}

{% block content %}


<div class="form-group col-sm-offset-1" style="width:1050px;">
    <form class="navbar-form navbar-left" method="GET">
        <div class="input-group">
            <input type="text" class="form-control" name="search" placeholder="Search">
            <div class="input-group-btn">
                <button class="btn btn-default" type="submit">
                    <i class="glyphicon glyphicon-search"></i>
                </button>
            </div>
        </div>
        <label class="radio-inline">
        <input type="radio" name="optradio" value="price" checked="">By price</label>
        <label class="radio-inline">
        <input type="radio" name="optradio" value="name" >By name</label>
    </form>

    {% if apps %}
    <table class="table table-bordered">
      <thead>
        <tr class="active">
            <th>App ID</th>
            <th>Dev ID</th>
            <th>Name</th>
            <th>Price</th>
            <th>Memory</th>
        </tr>
      </thead>
      <tbody>
        {% for foo in apps %}
            <tr class="clickable-row" data-href = "{% url 'edit_apps' foo.app_id %}">
                <td> {{ foo.app_id }} </td>
                <td> {{ foo.dev_id }} </td>
                <td> {{ foo.name }} </td>
                <td> {{ foo.price }} </td>
                <td> {{ foo.memory }} </td>
            </tr>
        {% endfor %}
      </tbody>
    </table>

    {% else %}
        <div class="form-group col-sm-offset-1" style="width:350px;">
            <h1> No match for search</h1>
        </div>
    {% endif %}

    <a type="button" class="btn btn-primary" name="add_button" href="{% url 'app_new' %}">Add</a>
    <script>
    jQuery(document).ready(function($) {
        $(".clickable-row").click(function () {
            window.document.location = $(this).data("href");
        });
    });
    </script>
</div>

{% endblock %}